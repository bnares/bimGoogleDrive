
import {createRequire as ___nfyCreateRequire} from "module";
import {fileURLToPath as ___nfyFileURLToPath} from "url";
import {dirname as ___nfyPathDirname} from "path";
let __filename=___nfyFileURLToPath(import.meta.url);
let __dirname=___nfyPathDirname(___nfyFileURLToPath(import.meta.url));
let require=___nfyCreateRequire(import.meta.url);


// netlify/function/accessToken.ts
import { google } from "googleapis";
var accessToken_default = async (request) => {
  const data = await request.json();
  const { code, clientId, clientSecret, env } = data;
  const oauth = new google.auth.OAuth2(clientId, clientSecret, env);
  const { tokens } = await oauth.getToken(code);
  oauth.setCredentials(tokens);
  return new Response(JSON.stringify(tokens.access_token), { status: 200 });
};
export {
  accessToken_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibmV0bGlmeS9mdW5jdGlvbi9hY2Nlc3NUb2tlbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgZ29vZ2xlIH0gZnJvbSBcImdvb2dsZWFwaXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChyZXF1ZXN0OiBSZXF1ZXN0KT0+e1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICBjb25zdCB7Y29kZSwgY2xpZW50SWQsIGNsaWVudFNlY3JldCwgZW52fSA9IGRhdGE7XHJcblxyXG4gIC8vIFVzZSB0aGUgZ29vZ2xlIGF1dGggdG8gYXV0aGVudGljYXRlIHlvdXJzZWxmIGFnYWluc3QgdGhlIHNlcnZlci5cclxuICBjb25zdCBvYXV0aCA9IG5ldyBnb29nbGUuYXV0aC5PQXV0aDIoY2xpZW50SWQsIGNsaWVudFNlY3JldCwgZW52KTtcclxuXHJcbiAgLy8gUmV0cmlldmUgdGhlIHRva2VucyB3aXRoIHRoZSBnaXZlbiBjb2RlIGZyb20gdGhlIHBhcmFtZXRlcnNcclxuICBjb25zdCB7dG9rZW5zfSA9IGF3YWl0IG9hdXRoLmdldFRva2VuKGNvZGUpO1xyXG5cclxuICAvLyBWZXJ5IGltcG9ydGFudCB0byBzZXQgdGhlIGNyZWRlbnRpYWxzIG9yIGVsc2UgR29vZ2xlIHdpbGwgbm90IGtub3cgdGhhdFxyXG5cdC8vIHRoZSBwZXJtaXNzaW9uIHdhcyBnaXZlbi5cclxuICBvYXV0aC5zZXRDcmVkZW50aWFscyh0b2tlbnMpO1xyXG5cclxuICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHRva2Vucy5hY2Nlc3NfdG9rZW4pLCB7IHN0YXR1czogMjAwIH0pO1xyXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7OztBQUFBLFNBQVMsY0FBYztBQUV2QixJQUFPLHNCQUFRLE9BQU8sWUFBbUI7QUFDdkMsUUFBTSxPQUFPLE1BQU0sUUFBUSxLQUFLO0FBQ2hDLFFBQU0sRUFBQyxNQUFNLFVBQVUsY0FBYyxJQUFHLElBQUk7QUFHNUMsUUFBTSxRQUFRLElBQUksT0FBTyxLQUFLLE9BQU8sVUFBVSxjQUFjLEdBQUc7QUFHaEUsUUFBTSxFQUFDLE9BQU0sSUFBSSxNQUFNLE1BQU0sU0FBUyxJQUFJO0FBSTFDLFFBQU0sZUFBZSxNQUFNO0FBRTNCLFNBQU8sSUFBSSxTQUFTLEtBQUssVUFBVSxPQUFPLFlBQVksR0FBRyxFQUFFLFFBQVEsSUFBSSxDQUFDO0FBQzFFOyIsCiAgIm5hbWVzIjogW10KfQo=
